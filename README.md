# Express & MongoDB Dockerized Application

–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ Docker, Express —Ç–∞ MongoDB. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—é Node.js –¥–æ–¥–∞—Ç–∫–∞ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é MongoDB –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

home-work-68-express-9/
‚îú‚îÄ‚îÄ app.js # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª Express-–¥–æ–¥–∞—Ç–∫–∞
‚îú‚îÄ‚îÄ Dockerfile # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Docker –æ–±—Ä–∞–∑—É
‚îú‚îÄ‚îÄ docker-compose.yml # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
‚îú‚îÄ‚îÄ nodemon.json # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è nodemon –¥–ª—è hot-reload
‚îú‚îÄ‚îÄ package.json # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Node.js
‚îú‚îÄ‚îÄ .gitignore # –í–∏–∫–ª—é—á–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –∑ Git
‚îú‚îÄ‚îÄ .dockerignore # –í–∏–∫–ª—é—á–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –∑ Docker –æ–±—Ä–∞–∑—É
‚îî‚îÄ‚îÄ README.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É

## üéØ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

1. Express –¥–æ–¥–∞—Ç–æ–∫

- GET / ‚Äî –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –≤—ñ—Ç–∞–ª—å–Ω–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º
- GET /status ‚Äî –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB

2. Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ –æ–±—Ä–∞–∑—É node:lts
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–±—ñ—Ä–∫–∏ —á–µ—Ä–µ–∑ layer caching
- –†–æ–±–æ—á–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è /app
- –ï–∫—Å–ø–æ—Ä—Ç –ø–æ—Ä—Ç—É 3000

3. Docker Compose

- –°–µ—Ä–≤—ñ—Å app ‚Äî Express –¥–æ–¥–∞—Ç–æ–∫
- –°–µ—Ä–≤—ñ—Å mongo ‚Äî MongoDB –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- Volumes –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–¥—É
- –ó–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ MONGODB_URI
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É —á–µ—Ä–µ–∑ nodemon

## üöÄ –í–∏–º–æ–≥–∏

- Docker Desktop
- Docker Compose (–≤–∫–ª—é—á–µ–Ω–æ –≤ Docker Desktop)

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
   git clone <your-repository-url>
   cd home-work-68-express-9

2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
   docker-compose up --build

–¶—è –∫–æ–º–∞–Ω–¥–∞:

- –ó–±–µ—Ä–µ Docker –æ–±—Ä–∞–∑ –¥–ª—è Express –¥–æ–¥–∞—Ç–∫–∞
- –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π –æ–±—Ä–∞–∑ MongoDB
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–∏–¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
- –ù–∞–ª–∞—à—Ç—É—î –º–µ—Ä–µ–∂—É –º—ñ–∂ –Ω–∏–º–∏

3. –ó–∞–ø—É—Å–∫ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
   docker-compose up -d

4. –ó—É–ø–∏–Ω–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
   docker-compose down

## ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:3000
–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –í—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

–°—Ç–∞—Ç—É—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î

–í—ñ–¥–∫—Ä–∏–π—Ç–µ: http://localhost:3000/status
–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
{
"status": "Server is up",
"database": "connected"
}

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (Hot Reload)

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∑–∞–ø—É—â–µ–Ω—ñ (docker-compose up)
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª app.js —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ
3. –ó–º—ñ–Ω—ñ—Ç—å —Ç–µ–∫—Å—Ç —É —Ä—è–¥–∫—É –∑ res.send(...)
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ñ–∞–π–ª (Ctrl + S)
5. –ü–æ—á–µ–∫–∞–π—Ç–µ 2-3 —Å–µ–∫—É–Ω–¥–∏
6. –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä—ñ ‚Äî –∑–º—ñ–Ω–∏ –∑'—è–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?

- volumes –≤ docker-compose.yml —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å –ª–æ–∫–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- nodemon –≤—ñ–¥—Å—Ç–µ–∂—É—î –∑–º—ñ–Ω–∏ —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î —Å–µ—Ä–≤–µ—Ä

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### Dockerfile

- –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑: node:lts (Long Term Support)
- –†–æ–±–æ—á–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è: /app
- –ü–æ—Ä—Ç: 3000
- –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É: node app.js

### Docker Compose

- –ú–µ—Ä–µ–∂–∞: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞ bridge –º–µ—Ä–µ–∂–∞
- Volumes:
  - .:/app ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∫–æ–¥—É
  - /app/node_modules ‚Äî —ñ–∑–æ–ª—è—Ü—ñ—è node_modules
  - mongo_data:/data/db ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö MongoDB

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

- MONGODB_URI=mongodb://mongo:27017/appdb

## üìä –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–ø—É—â–µ–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏

docker ps

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ –¥–æ–¥–∞—Ç–∫–∞

docker-compose logs app

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ MongoDB

docker-compose logs mongo

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –¥–æ–¥–∞—Ç–æ–∫

docker-compose restart app

# –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —Ç–∞ volumes

docker-compose down -v

## üêõ Troubleshooting

–ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 3000 –≤–∂–µ –∑–∞–π–Ω—è—Ç–∏–π
–†—ñ—à–µ–Ω–Ω—è: –ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä—Ç —É docker-compose.yml:

ports:

- "3001:3000" # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–æ—Ä—Ç 3001 –∑–∞–º—ñ—Å—Ç—å 3000

–ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä app –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –∑ –ø–æ–º–∏–ª–∫–æ—é
–†—ñ—à–µ–Ω–Ω—è: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:

docker-compose logs app

–ü—Ä–æ–±–ª–µ–º–∞: MongoDB –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è

# Express & MongoDB Dockerized Application

–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ Docker, Express —Ç–∞ MongoDB. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—é Node.js –¥–æ–¥–∞—Ç–∫–∞ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é MongoDB –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose.

## üìå –ö–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç

- Express —Å–µ—Ä–≤–µ—Ä –∑ –¥–≤–æ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏: / —Ç–∞ /status
- MongoDB –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ MONGODB_URI
- Dockerfile –Ω–∞ –±–∞–∑—ñ node:lts
- Docker Compose –¥–ª—è –ø—ñ–¥–Ω—è—Ç—Ç—è –¥–æ–¥–∞—Ç–∫–∞ —ñ MongoDB
- Hot reload –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é nodemon —Ç–∞ volumes

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

home-work-68-express-9/
‚îú‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ nodemon.json
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .dockerignore
‚îî‚îÄ‚îÄ README.md

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏

| –ú–µ—Ç–æ–¥ | –®–ª—è—Ö    | –û–ø–∏—Å                  |
| ----- | ------- | --------------------- |
| GET   | /       | –í—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è |
| GET   | /status | –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ —ñ –ë–î   |

–ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ /status:
{
"status": "Server is up",
"database": "connected"
}

## üöÄ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é:
   git clone <your-repository-url>
   cd home-work-68-express-9

2. –ó–±—ñ—Ä–∫–∞ —Ç–∞ –∑–∞–ø—É—Å–∫:
   docker-compose up --build

3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ:
   http://localhost:3000
   http://localhost:3000/status

4. –ó—É–ø–∏–Ω–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:
   docker-compose down

## üîÑ Hot Reload (–∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (docker-compose up)
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ app.js —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ
3. –ó–º—ñ–Ω—ñ—Ç—å —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤ res.send(...)
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ñ–∞–π–ª
5. –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É ‚Äî –∑–º—ñ–Ω–∏ –∑'—è–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

–ü–æ—è—Å–Ω–µ–Ω–Ω—è:

- volumes —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å –ª–æ–∫–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- nodemon –≤—ñ–¥—Å—Ç–µ–∂—É—î –∑–º—ñ–Ω–∏ –π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î —Å–µ—Ä–≤–µ—Ä

## üß© –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

Dockerfile:

- –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑: node:lts
- –†–æ–±–æ—á–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è: /app
- –ü–æ—Ä—Ç: 3000
- –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É: node app.js

Docker Compose:

- app ‚Äî Express —Å–µ—Ä–≤—ñ—Å
- mongo ‚Äî MongoDB —Å–µ—Ä–≤—ñ—Å
- volumes:
  - .:/app
  - /app/node_modules
  - mongo_data:/data/db

–ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:

- MONGODB_URI=mongodb://mongo:27017/appdb

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ http://localhost:3000
2. –°—Ç–∞—Ç—É—Å –ë–î: http://localhost:3000/status
3. –ó–º—ñ–Ω–∏ –≤ app.js –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É

## üìä –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

docker ps
docker-compose logs app
docker-compose logs mongo
docker-compose logs -f
docker-compose restart app
docker-compose down -v

## üêõ Troubleshooting

–ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 3000 –∑–∞–π–Ω—è—Ç–∏–π
–†—ñ—à–µ–Ω–Ω—è: –∑–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä—Ç —É docker-compose.yml, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ 3001:3000

–ü—Ä–æ–±–ª–µ–º–∞: app –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –∑ –ø–æ–º–∏–ª–∫–æ—é
–†—ñ—à–µ–Ω–Ω—è: docker-compose logs app

–ü—Ä–æ–±–ª–µ–º–∞: MongoDB –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è
–†—ñ—à–µ–Ω–Ω—è: –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –æ–±–∏–¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∑–∞–ø—É—â–µ–Ω—ñ (docker ps)

## üìù –ö—Ä–∏—Ç–µ—Ä—ñ—ó –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

‚úÖ Express –¥–æ–¥–∞—Ç–æ–∫ –∑ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ / —Ç–∞ /status
‚úÖ Dockerfile –Ω–∞ node:lts
‚úÖ Docker Compose –∑ app + mongo
‚úÖ MONGODB_URI –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
‚úÖ Volumes –¥–ª—è hot reload
‚úÖ –î–æ–¥–∞—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ localhost:3000
